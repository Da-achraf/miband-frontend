<div class="flex flex-col mt-[7rem] items-center animate-fade-in">
  <div
    class="rounded-lg border border-gray-200 shadow-md w-[30%] mx-auto"
  >
    <table
      class="w-full mx-auto border-collapse bg-white text-left text-sm text-gray-500"
    >
      <thead class="bg-gray-50">
        <tr>
          <th scope="col" class="px-6 py-4 font-medium text-gray-900">
            Client
          </th>

          <th scope="col" class="px-6 py-4 font-medium text-gray-900">
            Voir les donn√©es
          </th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-100 border-t border-gray-100">
        <tr
          *ngFor="let item of clients | paginate: { itemsPerPage: tableSize, currentPage: page, totalItems: count};"
          class="hover:bg-gray-50 hover:cursor-pointer"
          (click)="selectRow(item)"
          (click)="showHeartBeat(item.id)"
          (click)="show = true"
        >
          <th class="flex gap-3 px-6 py-4 font-normal text-gray-900">
            <div class="relative h-10 w-10">
              <img
                class="h-full w-full rounded-full object-cover object-center"
                src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                alt=""
              />
            </div>
            <div class="text-sm">
              <div class="font-medium text-gray-700">
                {{ item.prenom }} {{ item.nom }}
              </div>
            </div>
          </th>

          <td class="px-6 py-4">
            <div style="margin-left: 25%" class="flex justify-start gap-4">
              <!-- Add a wrapper element around the SVG -->
              <svg
                (click)="showHeartBeat(item.id)"
                (click)="selectRow(item)"
                [ngClass]="{'fill-red-500': item.selected || item.id === selectedRowIndex}"
                class="hover:fill-red-500 w-[2rem] h-[2rem] hover:cursor-pointer"
                aria-hidden="true"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  class="hover:transition-all hover:duration-300 hover:fill-red-500"
                  d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                ></path>
              </svg>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="mt-3">
    <pagination-controls
      previousLabel="Prev"
      nextLabel="Next"
      (pageChange)="onTableDataChange($event)"
    >
    </pagination-controls>
  </div>
</div>

<app-chart *ngIf="show" [info]="info" class="animate-fade-in w-[40%] ml-[40rem] "></app-chart>
